@startuml

start

:lockfile.write("lock");
:load arguments and clipdata;



while (clips in clipdata)
    :load audio clip (librosa.load);

    if (preprocess) then (yes)
        :preprocess_audio(y_stereo);
    endif

    :reduction_process(y_stereo, method, threshold);
    :peak_detection(y_reduced, threshold);

    :convert audio-frames to seconds (librosa.frames_to_time);
    :store results in clips_processed;
endwhile

:prepare jsn_processed;
:write jsn_processed to tempPath;
:inform user about completion;
:close and remove lockfile;

stop

@enduml
